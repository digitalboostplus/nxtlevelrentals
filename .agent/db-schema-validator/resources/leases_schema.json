{
    "collection": "leases",
    "description": "Rental agreements between landlords and tenants",
    "fields": {
        "id": {
            "type": "string",
            "required": true
        },
        "property_id": {
            "type": "string",
            "required": true,
            "description": "Reference to properties collection"
        },
        "tenant_id": {
            "type": "string",
            "required": true,
            "description": "Reference to users collection (tenant)"
        },
        "landlord_id": {
            "type": "string",
            "required": true,
            "description": "Reference to users collection (landlord)"
        },
        "start_date": {
            "type": "timestamp",
            "required": true
        },
        "end_date": {
            "type": "timestamp",
            "required": true
        },
        "monthly_rent": {
            "type": "number",
            "required": true
        },
        "currency": {
            "type": "string",
            "default": "USD"
        },
        "security_deposit": {
            "type": "number",
            "required": true
        },
        "payment_due_day": {
            "type": "number",
            "required": true,
            "min": 1,
            "max": 31
        },
        "status": {
            "type": "string",
            "required": true,
            "enum": [
                "pending",
                "active",
                "ended",
                "terminated"
            ],
            "default": "pending"
        },
        "is_active": {
            "type": "boolean",
            "required": true,
            "description": "Flag for current active lease"
        },
        "documents": {
            "type": "array",
            "description": "List of URLs to lease-related PDFs"
        },
        "created_at": {
            "type": "timestamp",
            "required": true
        },
        "updated_at": {
            "type": "timestamp",
            "required": true
        }
    },
    "indexes": [
        {
            "fields": [
                "tenant_id",
                "is_active"
            ],
            "order": [
                "asc",
                "asc"
            ]
        },
        {
            "fields": [
                "property_id",
                "is_active"
            ],
            "order": [
                "asc",
                "asc"
            ]
        }
    ]
}